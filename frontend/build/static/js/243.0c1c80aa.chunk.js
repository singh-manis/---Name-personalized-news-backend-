"use strict";(self.webpackChunkpersonalized_news_frontend=self.webpackChunkpersonalized_news_frontend||[]).push([[243],{2171:()=>{},8243:(e,t,a)=>{a.r(t),a.d(t,{default:()=>i});var s=a(9950),r=a(2074),l=a(6910),n=a(9348),o=(a(2171),a(4414));function i(){const[e,t]=(0,s.useState)([]),[a,i]=(0,s.useState)([]),[c,d]=(0,s.useState)(!0);(0,s.useEffect)(()=>{m()},[]);const m=async()=>{try{const e=localStorage.getItem("token"),a=await l.A.get("".concat("http://localhost:5000","/api/news/saved"),{headers:{"x-auth-token":e}});t(a.data||[]);const s=await l.A.get("".concat("http://localhost:5000","/api/user/profile"),{headers:{"x-auth-token":e}});i(s.data.externalBookmarks||[]),d(!1)}catch(e){n.oR.error("Failed to fetch bookmarks"),d(!1)}},x=async e=>{try{const a=localStorage.getItem("token");e._id?(await l.A.delete("".concat("http://localhost:5000","/api/news/article/").concat(e._id,"/save"),{headers:{"x-auth-token":a}}),t(t=>t.filter(t=>t._id!==e._id))):(await l.A.delete("".concat("http://localhost:5000","/api/news/external/bookmark"),{data:{url:e.url},headers:{"x-auth-token":a}}),i(t=>t.filter(t=>t!==e.url))),n.oR.success("Article removed from bookmarks")}catch(a){n.oR.error("Failed to remove bookmark")}};return c?(0,o.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,o.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):(0,o.jsx)("div",{className:"modern-bg min-h-screen py-8",children:(0,o.jsx)("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,o.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-10 border border-gray-100",children:[(0,o.jsx)("h1",{className:"text-3xl font-extrabold text-primary-700 mb-8 tracking-tight drop-shadow",children:"Bookmarked Articles"}),0===e.length&&0===a.length?(0,o.jsx)("p",{className:"text-gray-500",children:"No bookmarks yet."}):(0,o.jsxs)(o.Fragment,{children:[e.length>0&&(0,o.jsx)("ul",{className:"divide-y divide-gray-200 mb-8",children:e.map(e=>(0,o.jsxs)("li",{className:"py-4 flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)(r.N_,{to:"/article/".concat(e._id),className:"text-primary-600 hover:underline font-medium",children:e.title}),(0,o.jsx)("span",{className:"ml-2 text-gray-500 text-sm",children:e.category}),(0,o.jsx)("button",{onClick:()=>x(e),className:"ml-4 text-xs text-red-600 hover:underline font-semibold",children:"Unbookmark"})]}),e.summary&&(0,o.jsx)("span",{className:"text-xs text-gray-400 max-w-xs truncate",children:e.summary})]},e._id))}),a.length>0&&(0,o.jsx)("ul",{className:"divide-y divide-gray-200",children:a.map(e=>(0,o.jsx)("li",{className:"py-4 flex flex-col sm:flex-row sm:items-center sm:justify-between",children:(0,o.jsxs)("div",{children:[(0,o.jsx)(r.N_,{to:"/external-article",state:{article:{url:e}},className:"text-primary-600 hover:underline font-medium",children:e}),(0,o.jsx)("button",{onClick:()=>x({url:e}),className:"ml-4 text-xs text-red-600 hover:underline font-semibold",children:"Unbookmark"})]})},e))})]})]})})})}}}]);