{"ast":null,"code":"import _objectSpread from\"C:/Users/Manish singh/Desktop/personalized-news/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{Link,useNavigate}from'react-router-dom';import axios from'axios';import{toast}from'react-toastify';import'./HomeModern.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const interests=['technology','science','business','health','entertainment','sports','politics','education'];export default function Register(){const navigate=useNavigate();const[formData,setFormData]=useState({name:'',email:'',password:'',confirmPassword:'',interests:[]});const{name,email,password,confirmPassword,interests:selectedInterests}=formData;const onChange=e=>{if(e.target.name==='interests'){const value=e.target.value;setFormData(_objectSpread(_objectSpread({},formData),{},{interests:selectedInterests.includes(value)?selectedInterests.filter(interest=>interest!==value):[...selectedInterests,value]}));}else{setFormData(_objectSpread(_objectSpread({},formData),{},{[e.target.name]:e.target.value}));}};const onSubmit=async e=>{e.preventDefault();if(password!==confirmPassword){toast.error('Passwords do not match');return;}try{const res=await axios.post(\"\".concat(process.env.REACT_APP_API_URL,\"/api/auth/register\"),{name,email,password,interests:selectedInterests});localStorage.setItem('token',res.data.token);toast.success('Registration successful!');navigate('/');}catch(err){var _err$response,_err$response$data;toast.error(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.msg)||'An error occurred');}};return/*#__PURE__*/_jsx(\"div\",{className:\"modern-bg min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-md w-full space-y-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-2xl p-10 border border-gray-100\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-center text-3xl font-extrabold text-primary-700 mb-4 tracking-tight drop-shadow\",children:\"Create your account\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-center text-sm text-gray-600 mb-6\",children:[\"Or\",' ',/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"font-medium text-primary-600 hover:text-primary-500\",children:\"sign in to your existing account\"})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"space-y-6\",onSubmit:onSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"rounded-md shadow-sm -space-y-px\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",className:\"sr-only\",children:\"Full name\"}),/*#__PURE__*/_jsx(\"input\",{id:\"name\",name:\"name\",type:\"text\",required:true,className:\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm\",placeholder:\"Full name\",value:name,onChange:onChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"sr-only\",children:\"Email address\"}),/*#__PURE__*/_jsx(\"input\",{id:\"email\",name:\"email\",type:\"email\",required:true,className:\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm\",placeholder:\"Email address\",value:email,onChange:onChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"sr-only\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{id:\"password\",name:\"password\",type:\"password\",required:true,className:\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm\",placeholder:\"Password\",value:password,onChange:onChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"confirmPassword\",className:\"sr-only\",children:\"Confirm password\"}),/*#__PURE__*/_jsx(\"input\",{id:\"confirmPassword\",name:\"confirmPassword\",type:\"password\",required:true,className:\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm\",placeholder:\"Confirm password\",value:confirmPassword,onChange:onChange})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Select your interests\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 grid grid-cols-2 gap-2\",children:interests.map(interest=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{id:interest,name:\"interests\",type:\"checkbox\",value:interest,checked:selectedInterests.includes(interest),onChange:onChange,className:\"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:interest,className:\"ml-2 block text-sm text-gray-900 capitalize\",children:interest})]},interest))})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-base font-semibold rounded-lg text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 shadow\",children:\"Create account\"})})]})]})})});}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}